<!DOCTYPE html>
<html>
<head>
    <title>Drilling Completion Chart</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div id="drilling-chart"></div>

    <script>
        // Read the data from the CSV file
        Plotly.d3.csv('testfetch.csv', function(data) {
            // Process the data
            var drillingDates = [];
            var drillingCounts = [];

            data.forEach(function(row) {
                if (row['Drilling Status'] === 'Completed') {
                    drillingDates.push(row['T/W Drill Start Date']);
                    drillingCounts.push(1);
                }
            });

            // Create the drilling chart
            var drillingChart = {
                x: drillingDates,
                y: drillingCounts,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Drilling Completion'
            };

            // Define the layout
            var layout = {
                title: 'Drilling Completion by Date',
                xaxis: {
                    title: 'Date',
                    range: ['2023-01-01', '2023-12-31'],
                    zeroline: true
                },
                yaxis: {
                    title: 'Number of Drilling Schemes',
                    range: [0, drillingCounts.length + 1],
                    zeroline: true
                },
                legend: {
                    x: 1,
                    xanchor: 'right',
                    y: 1,
                    bgcolor: '#E2E2E2',
                    bordercolor: '#CCCCCC',
                    borderwidth: 1
                }
            };

            // Create the chart
            Plotly.newPlot('drilling-chart', [drillingChart], layout);
        });
    </script>
</body>
</html>
