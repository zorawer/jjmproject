<!DOCTYPE html>
<html>
<head>
    <title>Drilling and Lowering Completion</title>
    <style>
        .chart-container {
            display: inline-block;
            width: 400px;
        }
    </style>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div id="drilling-chart"></div>
    <div id="lowering-chart"></div>
    <div class="chart-container" id="pipe-laying-status-chart"></div>
    <div class="chart-container" id="work-progress-chart"></div>

    <script>
        // Fetch data from the CSV file and create the charts
        fetch('https://zorawer.github.io/jjmproject/testfetch.csv')
            .then(response => response.text())
            .then(data => {
                // Process the data and create the charts
                const parsedData = Plotly.d3.csv.parse(data);

                // Group the data and create the drilling and lowering charts
                // Rest of the JavaScript code...

                // Create the pipe laying status pie chart
                const pipeLayingStatusData = {
                    labels: ['Not Started', 'WIP'],
                    values: [464, 30],
                    type: 'pie',
                    textposition: 'inside',
                    hoverinfo: 'label+value',
                    textinfo: 'percent',
                    marker: {
                        colors: ['#1f77b4', '#FFA500']
                    }
                };

                const pipeLayingStatusLayout = {
                    title: 'D/N Pipe Laying Status',
                    height: 400,
                    width: 400,
                };

                // Create the work progress pie chart
                const workProgressData = {
                    labels: ['Scope', 'Work Done'],
                    values: [448092, 73140],
                    type: 'pie',
                    textposition: 'inside',
                    hoverinfo: 'label+value',
                    textinfo: 'percent',
                    marker: {
                        colors: ['#1f77b4', '#FFA500']
                    }
                };

                const workProgressLayout = {
                    title: 'Work Progress',
                    height: 400,
                    width: 400,
                };

                // Create the drilling and lowering charts
                Plotly.newPlot('drilling-chart', [drillingChart, drillingWIPMarker], drillingLayout);
                Plotly.newPlot('lowering-chart', [loweringChart, loweringWIPMarker], loweringLayout);

                // Create the pipe laying status and work progress pie charts
                Plotly.newPlot('pipe-laying-status-chart', [pipeLayingStatusData], pipeLayingStatusLayout);
                Plotly.newPlot('work-progress-chart', [workProgressData], workProgressLayout);
            })
            .catch(error => console.error(error));
    </script>
</body>
</html>
